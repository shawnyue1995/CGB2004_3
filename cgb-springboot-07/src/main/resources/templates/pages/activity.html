<!DOCTYPE html>
<html lang="zh-CN" xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- 上述3个meta标签*必须*放在最前面，任何其他内容都*必须*跟随其后！ -->
    <title>Bootstrap 101 Template</title>

    <!-- Bootstrap -->
    <link href="../../static/bootstrap/bootstrap/css/bootstrap.min.css" rel="stylesheet">

  </head>
  <body>
  <div>
	  <h2>活动列表页面</h2>
  </div>
  <div class="container">
	  <button type="button" class="btn btn-primary"
			  onclick="javascript:location.href='/activity/activity-add.html'">创建活动</button>
  </div>
	<div>
		<table class="table">
		    <thead>
            <tr>
			    <th><input type="checkbox">全选</th>
				<th>id</th>
				<th>title</th>
				<th>category</th>
				<th>startTime</th>
				<th>endTime</th>
				<th>remark</th>
				<th>state</th>
				<th>createdTime</th>
				<th>createdUser</th>
				<th>状态</th>
			</tr>
			</thead>
			<tbody>
			  <tr th:each="a:${list}">
			     <td><input type="checkbox"></td>
				 <td th:text="${a.id}">id</td>
				 <td th:text="${a.title}">title</td>
				 <td th:text="${a.category}">category</td>
				 <td th:text="${#dates.format(a.startTime,'yyyy/MM/dd HH:mm')}">startTime</td>
				  <td th:text="${#dates.format(a.endTime,'yyyy/MM/dd HH:mm')}">endTime</td>
				  <td th:text="${a.remark}">remark</td>
				  <td th:text="${a.state}">state</td>
				  <td th:text="${#dates.format(a.createdTime,'yyyy/MM/dd HH:mm')}">createdTime</td>
				  <td th:text="${a.createdUser}">createdUser</td>
				  <td th:text="${a.state==1?'有效':'失效'}">有效</td>
				  <td><button type="button" class="btn btn-danger btn-sm" th:onclick="doDelete([[${a.id}]])">删除</button></td>
				  <td><a th:href="@{/findById(id=${a.id})}">修改</a></td>
			  </tr>
			</tbody>
        </table>
	</div>
    <!-- jQuery (Bootstrap 的所有 JavaScript 插件都依赖 jQuery，所以必须放在前边) -->
    <script src="../../static/jquery/jquery/jquery.min.js"></script>
    <!-- 加载 Bootstrap 的所有 JavaScript 插件。你也可以根据需要只加载单个插件。 -->
    <script src="../../static/bootstrap/bootstrap/js/bootstrap.min.js"></script>
  <script type="text/javascript">
	  function doDelete(id) {
	  	//confirm为xindow对象中的一个方法,此方法的返回值为true或false
	  	if (!confirm("确认删除吗?"))return;
	  	//基于id执行记录的删除操作
		  location.href="/activity/deleteById?id="+id
	  }
  </script>
  </body>
</html>